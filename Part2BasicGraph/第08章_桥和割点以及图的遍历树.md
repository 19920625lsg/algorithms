# 第08章 桥和割点以及图的遍历树

## 8.1 什么是桥

### 定义
> 对于无向图，如果删除了一条边，整个图联通分量数量就会变化，则这条边称为`桥(Bridge)`。桥意味着图中最脆弱的关系
![什么是桥](images/第08章_桥和割点以及图的遍历树/什么是桥.png)

### 应用
+ 交通系统
  > 比如两个城市上海和南京仅通过长江大桥相连，如果长江大桥被毁坏了，那么两个城市就分开各自为战了
+ 社交网络
  > 两个班级通过班长联系在一起，大家有活动时可以一起参加，一旦班长之间的关系断了，那么两个班就各自为战了

### 桥的特点
+ 一个图中可以有多条桥
+ 一棵树的所有边都是桥
![桥的特点](images/第08章_桥和割点以及图的遍历树/桥的特点.png)

### 寻找桥的算法
+ 使用DFS就可以解决，但是有难度，因为记录的信息更多元
+ 一般面试不会涉及，竞赛可能会涉及

## 8.2 寻找桥的算法思路

### 桥和环的关系
> 一张图中找环的算法：当检测到一个节点(当前节点current)的相邻节点已经被visited但是这个相邻节点不是current的上一个visited节点，就说明图中有环了

和判断一张图是否有环不同
+ 判断一张图是否有环，是整张图的属性
+ 判断一张图是否有桥，是一条边的属性

寻找桥的过程需要遍历每一条边，DFS正好能用上

DFS遍历点和边的过程如下：
![DFS遍历点和边的过程](https://img.mukewang.com/szimg/5dfad9e7000119d317281080.jpg)

### 举例如何找桥
> 关键是能不能找到另一条路径`回到当前节点的上一个访问节点或上一个访问节点的父节点`，找到不到就说明当前节点和上一个访问节点组成了桥。**两条路径不能有边重合**
![举例如何找桥](https://img.mukewang.com/szimg/5dfadadb000153c217281080.jpg)

**总结：如何判断边`v-w`是不是桥？**
> 看通过w，能否从另外一条不同的路径回到v或者v之前的顶点

### 寻找桥的代码逻辑
> 看通过w，能否从另外一条路回到v或者`v之前的任何一个顶点`，核心是理解ord和low数组
+ **对于每一个顶点，记录DFS遍历过的点顺序，用数组ord[]来记录。ord[v]表示顶点v在DFS中的访问顺序**
  > 方便找当前节点的父节点以及父节点的父节点....
  + 以边1-3为例，判断1-3是否是桥，只需要判断是否存在一条和DFS遍历不同的路径使得3能连接上`1或0(在ord[]中对应的值小于ord[3]的点)`
  + 以便3-5为例，判断3-5是否是桥，只需要判断是否存在一条和DFS遍历不同的路径使得5能连接上`3、1或0(在ord[]中对应的值小于ord[5]的点)`
  + ...
  ![寻找桥的代码逻辑1](https://img1.sycdn.imooc.com/szimg/5dfadd470001f27c17281080.jpg)
+ **对于每一个顶点，记录能到达的最小ord。low[v]表示DFS过程中，顶点v能到达的最小ord值(也可以认为是能联通的最远的节点)**
  > DFS遍历过程中，low[v]取v除了父节点以外所有邻接点中最小的ord值(所以遍历过程中需要传一下父节点，方便从邻接点中排除父节点去计算low值)
  + 以边1-3为例，判断1-3是否是桥，只需要判断是否存在一条和DFS遍历不同的路径使得3能连接上`1或0(在ord[]中对应的值小于ord[3]的点)`，因为`low[3]=0`<`order[1]=1`,索引3一定能连接上1的某个祖上节点，所以1-3一定不是桥
  + 以便3-5为例，判断3-5是否是桥，只需要判断是否存在一条和DFS遍历不同的路径使得5能连接上`3、1或0(在ord[]中对应的值小于ord[5]的点)`，因为`low[5]=4`>`order[3]=2`,索引5一定连接不上3的某个祖上节点，所以3-5一定不是桥
  + ...
  ![寻找桥的代码逻辑2](https://img.mukewang.com/szimg/5dfade2f0001434417281080.jpg)

## 8.3 模拟寻找桥的算法

# 闫氏DP分析法
> 核心：从集合角度来分析DP问题

## DP的本质
> 有限集合中的最优化问题

## DP的两个阶段
### 1.化零为整
+ 即状态表示，不是单独对每一个具体的点求最优解，而是把问题范围划分成多个分段，用f[i]表示第i个数据段
+ f[i]存储地值表示地是第i个分段内的最优解，如最大值max、最小值min、计数cnt
+ 举例：统计某个学校的优秀学生总人数，可以先按照`班级(即f[i])`统计，再汇总各个`班级的优秀人数(f[i]的值)`，就是学校的总人数
### 2.化整为零
+ 即状态计算，在f[i]所属的数据段内统计`各种情况(也称问题子集)`的最优解，取这些情况下的`最大/最小`值，即为f[i]最终的值
+ 数据段内各种情况的划分原则：不重复、不遗漏
+ 数据段内各种情况的划分方法：寻找最后一个不同点

## DP问题优化的本质
> 对基本的状态表达式进行优化，一般是对数据结构的优化。我们要先掌握好基本的状态表达式，只有基本的状态表达式才能理解通DP问题
# 闫氏DP分析法
> 核心：从集合角度来分析DP问题



## DP的本质
> 有限集合中的最优化问题

## DP的两个阶段
### 1.化零为整
> 即状态表示，不是单独对每一个具体的点求最优解，而是把问题划分成多个成递推关系的**子阶段**，$f[i]$或$f[i][j]$就是把原问题变成了子阶段问题，各个子阶段之间满足`最优化`原理和`无后效性`原则，一般用f[i]或f[i][j]表示不同的子阶段

+ 
+ 属性：f[i]存储地值表示地是第i个分段内的最优解，如最大值max、最小值min、计数cnt
### 2.化整为零
> 即状态计算，在f[i]所属的数据段内统计**各种情况(`也称问题子集，是对1中划分的子阶段的再次划分，不过这次是根据最后一个不同点进行划分的，上面是根据不同的问题模型进行划分`)的最优解**，取这些情况下的`最大/最小`值，即为f[i]最终的值

+ 数据段内各种情况的划分原则：**不重复**、**不遗漏**
+ 数据段内各种情况的划分方法：**寻找最后一个不同点**

## DP问题优化的本质
> 一般是对代码或者计算方程进行等价变形(`数据结构、计算方式等`)。我们要先掌握好基本的状态表达式，只有基本的状态表达式才能理解通DP问题